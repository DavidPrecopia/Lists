buildscript {
    repositories {
        google()
        mavenCentral()
        maven {
            url 'https://maven.fabric.io/public'
        }
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:3.2.1'
        classpath 'com.google.gms:google-services:4.2.0'
        // Firebase Crashlytics
        classpath 'io.fabric.tools:gradle:1.26.1'
    }
}

allprojects {
    apply plugin: 'checkstyle'

    repositories {
        google()
        mavenCentral()
        maven {
            url  "https://dl.bintray.com/firebaseui/firebase-ui"
        }
        jcenter()
    }

    checkstyle {
        toolVersion = '8.15'
    }

    task checkstyle(type: Checkstyle) {
        // google_checks.xml copy from:
        // https://raw.githubusercontent.com/checkstyle/checkstyle/master/src/main/resources/google_checks.xml
        configFile new File(rootDir, "tools/checkstyle/google_checks.xml")
        configProperties.checkstyleSuppressionPath =
                new File(rootDir, "tools/checkstyle/suppressions.xml").absolutePath
        source 'src'
        include '**/*.java'
        exclude '**/gen/**'
        exclude '**/R.java'
        exclude '**/BuildConfig.java'
        classpath = files()
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}